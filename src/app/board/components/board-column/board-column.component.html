<div class="column">
  <div class="column-settings">
    <mat-icon
      *ngIf="titleEditMode"
      class="column-settings__cancel-icon"
      [title]="'Cancel' | translate"
      (click)="onCancel()"
      >cancel</mat-icon
    >
    <mat-icon
      *ngIf="titleEditMode"
      class="column-settings__save-icon"
      [title]="'' | translate"
      (click)="updateColumn(colTitle.value)"
      >save</mat-icon
    >
    <div class="column-settings__title">
      <input
        type="text"
        class="column-settings__item-input"
        id="colTitle"
        name="colTitle"
        value="{{ column.title }}"
        #colTitle
        (click)="editTitle()"
      />
    </div>
    <div class="column-settings__icons">
      <mat-icon
        class="column-settings__remove-icon"
        [title]="'Column-delete' | translate"
        (click)="deleteColumn(column._id)"
        >highlight_off</mat-icon
      >
    </div>
  </div>

  <div
    cdkDropList
    #todoList="cdkDropList"
    [cdkDropListData]="tasks"
    class="tasks-list"
    (cdkDropListDropped)="drop($event)"
    *ngIf="tasks$ | async"
  >
    <app-task
      *ngFor="let task of tasks"
      cdkDrag
      [task]="task"
      (edited)="refresh()"
      (removed)="refresh()"
    ></app-task>
  </div>
  <div class="column-new-task__btn" (click)="addNewTask()">
    <mat-icon>add</mat-icon>
    <span>{{ "Columns-task-add" | translate }}</span>
  </div>
</div>
